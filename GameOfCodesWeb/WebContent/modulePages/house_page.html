<div></div>
<br />
<section>
	<div class="houseContainer" >

		<div class="row houseEssenceContainer">
			<h3>Kingdom Essence</h3>
		</div>
		<div class="row kingdomEssenceFragment">		
			<div class="col-md-4 centerBox" ng-controller="housesController">
				<a id="essence" data-toggle="collapse" data-target="#houseModal"
					ng-click="housenamefilter('Essence Core')">
					<img src="img/domain_logos/FBE/FBE_logo.png" class="flagPointer" />
					<h4 id="essenceName" class="white heading houseHeading">House Essence</h4>
				</a>
			</div>
		</div>

		<div class="row houseEquationContainer">
			<h3>Kingdom Equation</h3>
		</div>

		<div class="row kingdomEquationFragment">
			<table style="width:100%;">
			<td>
			<div class="col-md-4 centerBox takeSpace" ng-controller= "housesController">
				<a id="eqLending" data-toggle="collapse" data-target="#houseModal"
					ng-click="housenamefilter('Equation Lending')">
					<img src="img/domain_logos/FBEQ/EQ_Lending.png"
						class="flagPointer" />
				<h4 id="eqLendingName" class="white heading houseHeading">House Lending</h4>
				</a>
			</div>
			</td>
			<td>
			<div class="col-md-4 centerBox takeSpace" ng-controller= "housesController">
				<a id="eqCashiers" data-toggle="collapse" data-target="#houseModal"
					ng-click="housenamefilter('Equation Cashier & Deals')">
					<img src="img/domain_logos/FBEQ/EQ_CashierDeals.png"
						class="flagPointer" />
				<h4 id="eqCashiersName" class="white heading houseHeading">House Cashier &
					Deals</h4>
				</a>
			</div>
			</td>
			<td>
			<div class="col-md-4 centerBox takeSpace" ng-controller= "housesController">
				<a id="eqAccounts" data-toggle="collapse" data-target="#houseModal"
					ng-click="housenamefilter('Equation Accounts & CMS')">
					<img src="img/domain_logos/FBEQ/EQ_AccountsCMS.png"
						class="flagPointer" />
					<h4 id="eqAccountsName" class="white heading houseHeading">House Accounts &
						CMS</h4>
				</a>
			</div>
			</td>
			</table>
		</div>

		<div class="row houseMidasContainer">
			<h3>Kingdom Midas</h3>
		</div>
		<div class="row kingdomMidasFragment">
			<table style="width:100%;">
			<tr>
			<td>
			<div class="col-md-4 centerBox takeSpace" ng-controller= "housesController">
				<a id="midasGL" data-toggle="collapse" data-target="#houseModal"
					ng-click="housenamefilter('Midas General Ledger & Retail')">
					<img src="img/domain_logos/FBM/Midas_GeneralLedger.png"
						class="flagPointer" />
					<h4 id="midasGLName" class="white heading houseHeading">House General
						Ledger & Retail</h4>
				</a>
			</div>
			</td>
			<td>
			<div class="col-md-4 centerBox takeSpace" ng-controller= "housesController">
				<a id="midasTP" data-toggle="collapse" data-target="#houseModal"
					ng-click="housenamefilter('Midas Technical Platform')">
					<img src="img/domain_logos/FBM/Midas_TP.png" class="flagPointer" />
					<h4 id="midasTPName" class="white heading houseHeading">House Technical
						Platform</h4>
				</a>	
			</div>
			</td>
			<td>
			<div class="col-md-4 centerBox takeSpace" ng-controller= "housesController">
				<a id="midasLending" data-toggle="collapse" data-target="#houseModal"
					ng-click="housenamefilter('Midas Lending')">
					<img src="img/domain_logos/FBM/Midas_lending.png"
						class="flagPointer" />
					<h4 id="midasLendingName" class="white heading houseHeading">House Lending</h4>
				</a>
			</div>
			</td>
			</tr>
			</table>
			<table style="width:100%;">
			<tr>
			<td>
			<div class="col-md-4 centerBox takeSpace" ng-controller= "housesController">
				<a id="midasDealing" data-toggle="collapse" data-target="#houseModal"
					ng-click="housenamefilter('Midas Dealing & Securities')">
					<img src="img/domain_logos/FBM/Midas_Dealing.png"
						class="flagPointer" />
					<h4 id="midasDealingName" class="white heading houseHeading">House Dealing
						& Securities</h4>
				</a>
			</div>
			</td>
			<td>
			<div class="col-md-4 centerBox takeSpace" ng-controller= "housesController">
				<a id="midasFT" data-toggle="collapse" data-target="#houseModal"
					ng-click="housenamefilter('Midas Funds Transfer')">
					<img src="img/domain_logos/FBM/Midas_FundsTransfer.png"
						class="flagPointer" />
					<h4 id="midasFTName" class="white heading houseHeading">House Funds
						Transfer</h4>
				</a>
			</div>
			</td>
			</tr>
			</table>
		</div>

	</div>

	<div class="collapse" id="houseModal" tabindex="-1" role="dialog"
		aria-labelledby="myModalLabel" aria-hidden="true">
		<div class="collapse-dialog"
			style="margin-top: 100px; min-width: 900px; max-height: 400px;"
			ng-controller= "houseBoardController" >
			<!--  TO BE CHANGED ON CLICK OF A MODAL -->
			<div class="modal-content modal-popup"
				ng-repeat="house in houses | filter:{domain:selectedHouse}">

				<h1 class="white heading centerBox">{{house.housename}}</h1>
				<h4 class="houseBoardLargeText">Meet the heroes of
					{{house.domain}}</h4>
				<br>
				<div ng-controller="heroesController"
					class="houseBoardFragmentContainer">
					<div class="row vertical-align houseBoardFragment"
						ng-repeat="(key, hero) in house.heroes | orderByStoryPoints:'storyPoints':'true'">
						<div class="col-sm-4 subHeaderLeftAlign">
							<div class="houseBoardContent">
								<img class="houseBoard-avatar"
									src="img/avatar/hero/{{house.domain}}/goc_{{hero.username}}.png" alt="...">
								<h4 class="houseBoardMediumText">{{hero.name}}</h4>
							</div>
						</div>
						<div class="col-sm-3 subHeaderLeftAlign">
							<div class="houseBoardContent"
								ng-repeat="level in heroLevels | filter:{level:hero.level}:true">
								<h4 class="houseBoardMediumText">{{level.name}}</h4>
							</div>

						</div>
						<div class="col-sm-4">
							<div class="progress"
								ng-repeat="level in heroLevels | filter:{level:hero.level+1}:true">
								<div
									class="progress-bar progress-bar-striped progress-bar-danger active"
									role="progressbar"
									aria-valuenow="{{(hero.storyPoints - heroLevels[heroLevels.indexOf(level) - 1].points)}}"
									aria-valuemin="0"
									aria-valuemax="{{level.points - heroLevels[heroLevels.indexOf(level) - 1].points}}"
									style="font-weight: bold; margin-bottom: 20px; width: {{((hero.storyPoints- heroLevels[heroLevels.indexOf(level)- 1].points)/(level.points- heroLevels[heroLevels.indexOf(level)- 1].points))*100}}%">
									{{level.points-hero.storyPoints}} to rank up</div>
							</div>
						</div>
						<div class="col-sm-1"></div>

					</div>
				</div>

			</div>
		</div>
	</div>
</section>